{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Users/jeonsohee/Desktop/todo/src/app/pages/HomePage/Features/GithubRepoForm/index.tsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FormLabel } from 'app/components/FormLabel';\nimport { Input } from './components/Input';\nimport { RepoItem } from './RepoItem';\nimport { TextButton } from './components/TextButton';\nimport { selectUsername, selectRepos, selectLoading, selectError } from './slice/selectors';\nimport { LoadingIndicator } from 'app/components/LoadingIndicator';\nimport { RepoErrorType } from './slice/types';\nimport { useGithubRepoFormSlice } from './slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function GithubRepoForm() {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    actions\n  } = useGithubRepoFormSlice();\n  const username = useSelector(selectUsername);\n  const repos = useSelector(selectRepos);\n  const isLoading = useSelector(selectLoading);\n  const error = useSelector(selectError);\n  const dispatch = useDispatch();\n  const onChangeUsername = evt => {\n    dispatch(actions.changeUsername(evt.currentTarget.value));\n    dispatch(actions.loadRepos());\n  };\n  const useEffectOnMount = effect => {\n    _s();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(effect, []);\n  };\n  _s(useEffectOnMount, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  useEffectOnMount(() => {\n    // When initial state username is not null, submit the form to load repos\n    if (username && username.trim().length > 0) {\n      dispatch(actions.loadRepos());\n    }\n  });\n  const onSubmitForm = evt => {\n    /* istanbul ignore next  */\n    if (evt !== undefined && evt.preventDefault) {\n      evt.preventDefault();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      onSubmit: onSubmitForm,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Github Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"Type any Github username\",\n          value: username,\n          onChange: onChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n          small: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), (repos === null || repos === void 0 ? void 0 : repos.length) > 0 ? /*#__PURE__*/_jsxDEV(List, {\n      children: repos.map(repo => /*#__PURE__*/_jsxDEV(RepoItem, {\n        name: repo.name,\n        starCount: repo.stargazers_count,\n        url: repo.html_url\n      }, repo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorText, {\n      children: repoErrorText(error)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s2(GithubRepoForm, \"Ma5QRdkhE0ckT0eIE1NRmfmWww4=\", true, function () {\n  return [useGithubRepoFormSlice, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n_c = GithubRepoForm;\nexport const repoErrorText = error => {\n  switch (error) {\n    case RepoErrorType.USER_NOT_FOUND:\n      return 'There is no such user ðŸ˜ž';\n    case RepoErrorType.USERNAME_EMPTY:\n      return 'Type any Github username';\n    case RepoErrorType.USER_HAS_NO_REPO:\n      return 'User has no repository ðŸ¥º';\n    case RepoErrorType.GITHUB_RATE_LIMIT:\n      return 'Looks like github api`s rate limit(60 request/h) has exceeded ðŸ¤”';\n    default:\n      return 'An error has occurred!';\n  }\n};\nconst Wrapper = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__Wrapper\",\n  componentId: \"sc-1591adv-0\"\n})([\"\", \"{margin:16px 0;font-size:0.875rem;}\"], TextButton);\n_c2 = Wrapper;\nconst InputWrapper = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__InputWrapper\",\n  componentId: \"sc-1591adv-1\"\n})([\"display:flex;align-items:center;\", \"{width:\", \"%;margin-right:0.5rem;}\"], Input, 100 / 3);\n_c3 = InputWrapper;\nconst ErrorText = _styled.span.withConfig({\n  displayName: \"GithubRepoForm__ErrorText\",\n  componentId: \"sc-1591adv-2\"\n})([\"color:\", \";\"], p => p.theme.text);\n_c4 = ErrorText;\nconst FormGroup = _styled.form.withConfig({\n  displayName: \"GithubRepoForm__FormGroup\",\n  componentId: \"sc-1591adv-3\"\n})([\"display:flex;flex-direction:column;margin-bottom:1rem;\", \"{margin-bottom:0.25rem;margin-left:0.125rem;}\"], FormLabel);\n_c5 = FormGroup;\nconst List = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__List\",\n  componentId: \"sc-1591adv-4\"\n})([\"\"]);\n_c6 = List;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"GithubRepoForm\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"InputWrapper\");\n$RefreshReg$(_c4, \"ErrorText\");\n$RefreshReg$(_c5, \"FormGroup\");\n$RefreshReg$(_c6, \"List\");","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","FormLabel","Input","RepoItem","TextButton","selectUsername","selectRepos","selectLoading","selectError","LoadingIndicator","RepoErrorType","useGithubRepoFormSlice","GithubRepoForm","actions","username","repos","isLoading","error","dispatch","onChangeUsername","evt","changeUsername","currentTarget","value","loadRepos","useEffectOnMount","effect","trim","length","onSubmitForm","undefined","preventDefault","map","repo","name","stargazers_count","html_url","id","repoErrorText","USER_NOT_FOUND","USERNAME_EMPTY","USER_HAS_NO_REPO","GITHUB_RATE_LIMIT","Wrapper","styled","div","InputWrapper","ErrorText","span","p","theme","text","FormGroup","form","List"],"sources":["/Users/jeonsohee/Desktop/todo/src/app/pages/HomePage/Features/GithubRepoForm/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport styled from 'styled-components/macro';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FormLabel } from 'app/components/FormLabel';\nimport { Input } from './components/Input';\nimport { RepoItem } from './RepoItem';\nimport { TextButton } from './components/TextButton';\nimport {\n  selectUsername,\n  selectRepos,\n  selectLoading,\n  selectError,\n} from './slice/selectors';\nimport { LoadingIndicator } from 'app/components/LoadingIndicator';\nimport { RepoErrorType } from './slice/types';\nimport { useGithubRepoFormSlice } from './slice';\n\nexport function GithubRepoForm() {\n  const { actions } = useGithubRepoFormSlice();\n\n  const username = useSelector(selectUsername);\n  const repos = useSelector(selectRepos);\n  const isLoading = useSelector(selectLoading);\n  const error = useSelector(selectError);\n\n  const dispatch = useDispatch();\n\n  const onChangeUsername = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch(actions.changeUsername(evt.currentTarget.value));\n    dispatch(actions.loadRepos());\n  };\n\n  const useEffectOnMount = (effect: React.EffectCallback) => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(effect, []);\n  };\n\n  useEffectOnMount(() => {\n    // When initial state username is not null, submit the form to load repos\n    if (username && username.trim().length > 0) {\n      dispatch(actions.loadRepos());\n    }\n  });\n\n  const onSubmitForm = (evt?: React.FormEvent<HTMLFormElement>) => {\n    /* istanbul ignore next  */\n    if (evt !== undefined && evt.preventDefault) {\n      evt.preventDefault();\n    }\n  };\n\n  return (\n    <Wrapper>\n      <FormGroup onSubmit={onSubmitForm}>\n        <FormLabel>Github Username</FormLabel>\n        <InputWrapper>\n          <Input\n            type=\"text\"\n            placeholder=\"Type any Github username\"\n            value={username}\n            onChange={onChangeUsername}\n          />\n          {isLoading && <LoadingIndicator small />}\n        </InputWrapper>\n      </FormGroup>\n      {repos?.length > 0 ? (\n        <List>\n          {repos.map(repo => (\n            <RepoItem\n              key={repo.id}\n              name={repo.name}\n              starCount={repo.stargazers_count}\n              url={repo.html_url}\n            />\n          ))}\n        </List>\n      ) : error ? (\n        <ErrorText>{repoErrorText(error)}</ErrorText>\n      ) : null}\n    </Wrapper>\n  );\n}\n\nexport const repoErrorText = (error: RepoErrorType) => {\n  switch (error) {\n    case RepoErrorType.USER_NOT_FOUND:\n      return 'There is no such user ðŸ˜ž';\n    case RepoErrorType.USERNAME_EMPTY:\n      return 'Type any Github username';\n    case RepoErrorType.USER_HAS_NO_REPO:\n      return 'User has no repository ðŸ¥º';\n    case RepoErrorType.GITHUB_RATE_LIMIT:\n      return 'Looks like github api`s rate limit(60 request/h) has exceeded ðŸ¤”';\n    default:\n      return 'An error has occurred!';\n  }\n};\n\nconst Wrapper = styled.div`\n  ${TextButton} {\n    margin: 16px 0;\n    font-size: 0.875rem;\n  }\n`;\n\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${Input} {\n    width: ${100 / 3}%;\n    margin-right: 0.5rem;\n  }\n`;\n\nconst ErrorText = styled.span`\n  color: ${p => p.theme.text};\n`;\n\nconst FormGroup = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n\n  ${FormLabel} {\n    margin-bottom: 0.25rem;\n    margin-left: 0.125rem;\n  }\n`;\n\nconst List = styled.div``;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}